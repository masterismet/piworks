<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="https://code.angularjs.org/1.3.14/angular-route.min.js"></script>
</head>
<body>
    <div ng-app="myapp">
        <div ng-view></div>
        <ul>
    <a href="#stopwatch">Stop Watch</a>&nbsp; &nbsp;
    <a href="#exchangerate">Exchangerate</a>&nbsp;&nbsp;
    <a href="evals.html"> Compile,</a>&nbsp;&nbsp;

        </ul>
        <script type="text/ng-template" id="#menu.htm">
            <ul>
    <a href="#stopwatch">Stop Watch</a>&nbsp;&nbsp;

    <a href="#exchangerate">Exchangerate</a>&nbsp;&nbsp;

    <a href="evals.html"> Compile,</a>&nbsp;&nbsp;

            </ul>
        </script>
        <div style="height:200px; width:400px">
            <script type="text/ng-template" id="stopwatch.htm">
                <h2> stop watch</h2>
                <h2> {{ watch}}</h2>
                <button ng-model="run">RUN</button>&nbsp;
                <button ng-model="pause">PAUSE</button>
                <button ng-model="stop">STOP</button>&nbsp;

                {{message}}
            </script>
        </div>
        <div style="height:200px; width:400px">
            <script type="text/ng-template" id="exchangerate.htm">
                <div ng-controller="exchangeController">
                    <h2> EXCHANGE RATE</h2>
                    Dolar: <span eval-expression amount="Datavalue" tax="20"></span><br />
                    Euro : <span eval-expression amount="Datavalue" tax="14"></span><br />
                    Tl   : <span eval-expression amount="Datavalue" tax="34"></span><br />

                    Amount:<input type="number" ng-model="Datavalue" /><br />
                </div>

            </script>
        </div>

    <script>
        var app = angular.module("myapp", ['ngRoute']);
        
        app.config(function ($routeProvider) {
            $routeProvider.
            when('/stopwatch', {
                templateUrl: 'stopwatch.htm',
                controller: 'StopwatchController'
            }).
        when('/exchangerate', {
            templateUrl: 'exchangerate.htm',
            controller: 'exchangerateController'
        }).
        otherwise({
            redirectTo: 'menu.htm'
        });
        });
        //stop watch
        app.controller("StopwatchController", function ($scope) {
            $scope.message = "xxxx";
        });
        //exchange 
        app.controller("exchangerateController", function ($scope) {
            $scope.Datavalue = 101;
        });
        app.directive("evalExpression", function ($parse) {
            var expressionFn = $parse("total");
            return {
                scope: {
                    amount: "=amount",
                    tax: "=tax"
                },
                link: function (scope, elemet, attrs) {
                    scope.watch("amount", function (newValue) {
                        var localdata = {
                            total : Number(newValue) + Number(newValue)*Number(scope.tax)/100,
                           
                        }
                        elemet.text(expressionFn, localdata);
                    })

                },


            }
        });


    </script>

</body>
</html>
